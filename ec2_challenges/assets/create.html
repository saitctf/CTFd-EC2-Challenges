{% extends "admin/challenges/create.html" %}
{% block category %}
<div class="form-group">
    <label>
        Category:<br>
        <small class="form-text text-muted">
            The category of your challenge
        </small>
    </label>
    <input type="text" class="form-control" name="category" placeholder="Enter challenge category">
</div>
<div class="form-group">
    <label for="ami_id_select" id="ami_id_label">AMI ID:</label>
    <select id="ami_id_select" name="ami_id" class="form-control" required>
        <option value="">Select an AMI...</option>
    </select>
    <small class="form-text text-muted">
        Choose the AMI to use for this challenge
    </small>
</div>
<div class="form-group">
    <label for="subnet_id_select" id="subnet_id_label">Subnet ID:</label>
    <select id="subnet_id_select" name="subnet_id" class="form-control" required>
        <option value="">Select a subnet...</option>
    </select>
    <small class="form-text text-muted">
        Choose the subnet for the EC2 instance
    </small>
</div>
<div class="form-group">
    <label for="instance_type_select" id="instance_type_label">Instance Type:</label>
    <select id="instance_type_select" name="instance_type" class="form-control">
        <option value="t2.micro">t2.micro - 1 vCPU, 1 GB RAM</option>
        <option value="t2.small">t2.small - 1 vCPU, 2 GB RAM</option>
        <option value="t2.medium">t2.medium - 2 vCPU, 4 GB RAM</option>
        <option value="t3.micro">t3.micro - 2 vCPU, 1 GB RAM</option>
        <option value="t3.small">t3.small - 2 vCPU, 2 GB RAM</option>
        <option value="t3.medium">t3.medium - 2 vCPU, 4 GB RAM</option>
    </select>
</div>
<div class="form-group">
    <label for="security_group_select" id="security_group_label">Security Group:</label>
    <select id="security_group_select" name="security_group" class="form-control" required>
        <option value="">Select a security group...</option>
    </select>
    <small class="form-text text-muted">
        Choose the security group for the EC2 instance
    </small>
</div>
<div class="form-group">
    <label for="key_name">Key Pair Name:</label>
    <input type="text" class="form-control" name="key_name" placeholder="my-key-pair">
    <small class="form-text text-muted">
        EC2 key pair name for SSH access
    </small>
</div>
<div class="form-group">
    <label for="setup_script">Setup Script:</label>
    <textarea id="setup_script" class="form-control" name="setup_script" rows="10" placeholder="#!/bin/bash&#10;# Your setup script here&#10;echo 'Setting up challenge...'"></textarea>
    <small class="form-text text-muted">
        Bash script to run when the instance starts (optional)
    </small>
</div>
<div class="form-group">
    <label for="guide">Guide:</label>
    <textarea id="guide" class="form-control markdown" name="guide" rows="10" placeholder="## Challenge Guide&#10;&#10;Provide instructions for solving this challenge..."></textarea>
    <small class="form-text text-muted">
        Markdown guide for solving the challenge
    </small>
</div>
<div class="form-group">
    <label for="auto_stop_time">Auto-stop Time (seconds):</label>
    <input type="number" class="form-control" name="auto_stop_time" value="1800" min="300" max="7200">
    <small class="form-text text-muted">
        Time in seconds before the instance is automatically stopped (300-7200)
    </small>
</div>
{% endblock %}
{% block type %}
<input type="hidden" name="type" value="ec2" id="chaltype">
{% endblock %}
